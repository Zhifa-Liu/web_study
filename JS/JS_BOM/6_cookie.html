<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript Cookie</title>
    <script>
        //函数参数中，cookie 的名称为 cname，cookie 的值为 cvalue，并设置了 cookie 的过期时间 expires。
        function setCookie(cname,cvalue,exdays){
            var d = new Date();
            d.setTime(d.getTime()+(exdays*24*60*60*1000));
            var expires = "expires="+d.toGMTString();
            document.cookie = cname+"="+cvalue+"; "+expires;
        }
        function getCookie(cname){
            const name = cname + "=";
            const ca = document.cookie.split(';');
            for(let i=0; i<ca.length; i++) {
                const c = ca[i].trim();
                if (c.indexOf(name)===0) { return c.substring(name.length,c.length); }
            }
            return "";
        }
        function checkCookie(){
            let user = getCookie("username");
            if (user!==""){
                alert("欢迎 " + user + " 再次访问");
            }
            else {
                user = prompt("请输入你的名字:","");
                if (user!=="" && user!=null){
                    setCookie("username",user,30);
                }
            }
        }
        /*如果设置了 cookie，将显示一个问候信息。
        如果没有设置 cookie，将会显示一个弹窗用于询问访问者的名字，并调用 setCookie 函数将访问者的名字存储 365 天;*/
    </script>
</head>
<body onload="checkCookie()">

</body>
</html>