<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JavaScript 错误模式</title>
</head>
<body>

<script>
    let txt = "";

    function message_1(){
        try {
            addlert("Welcome guest!");
        }
        catch(err) {
            txt = "本页有一个错误。\n\n";
            txt += "错误描述：" + err.message + "\n\n";
            txt += "点击确定继续。\n\n";
            alert(txt);
        }
    }

    function message_2(){
        try{
            adddlert("Welcome guest!");
        }
        catch(err){
            txt = "本页有一个错误。\n\n";
            txt += "单击确定继续跳转\n";
            txt += "或者单击取消返回\n\n";
            if(confirm(txt)){
                document.location.href="//www.runoob.com/";
            }
        }
    }

    onerror=handleErr;
    function handleErr(msg,url,l){
        txt = "该页面有一个错误\n\n";
        txt += "错误: " + msg + "\n";
        txt += "URL: " + url + "\n";
        txt += "行: " + l + "\n\n";
        txt += "点击确定继续。\n\n";
        alert(txt);
        return true;
    }
    function message_3(){
        adddlert("Welcome guest!");
    }
</script>

<input type="button" value="查看消息" onclick="message_1()" />
<input type="button" value="查看消息" onclick="message_2()" />
<input type="button" value="查看消息" onclick="message_3()" />


</body>
</html>